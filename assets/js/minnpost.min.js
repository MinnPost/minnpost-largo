!function(f){"use strict";function u(o){document.addEventListener("mouseover",function(e){var t=e.target,n=o(t);(n=n||(t=t.parentElement)&&o(t))&&u.show(t,n,!0)})}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if(u.show=function(e,t,n){var o,a,i,r,s,l="data-tlite";function c(){u.hide(o,!0)}function m(){i=i||function(s,e,t){function n(){l.className="tlite tlite-"+c+m;var e=s.offsetTop,t=s.offsetLeft;l.offsetParent===s&&(e=t=0);var n=s.offsetWidth,o=s.offsetHeight,a=l.offsetHeight,i=l.offsetWidth,r=t+n/2;l.style.top=("s"===c?e-a-10:"n"===c?e+o+10:e+o/2-a/2)+"px",l.style.left=("w"===m?t:"e"===m?t+n-i:"w"===c?t+n+10:"e"===c?t-i-10:r-i/2)+"px"}var l=document.createElement("span"),o=t.grav||s.getAttribute("data-tlite")||"n";l.innerHTML=e,s.appendChild(l);var c=o[0]||"",m=o[1]||"";n();var a=l.getBoundingClientRect();return"s"===c&&a.top<0?(c="n",n()):"n"===c&&a.bottom>window.innerHeight?(c="s",n()):"e"===c&&a.left<0?(c="w",n()):"w"===c&&a.right>window.innerWidth&&(c="e",n()),l.className+=" tlite-visible",l}(o,s,a)}t=t||{},(e.tooltip||(a=t,(o=e).addEventListener("mousedown",c),o.addEventListener("mouseleave",c),o.tooltip={show:function(){s=o.title||o.getAttribute(l)||s,o.title="",o.setAttribute(l,""),s&&!r&&(r=setTimeout(m,n?150:1))},hide:function(e){if(n===e){r=clearTimeout(r);var t=i&&i.parentNode;t&&t.removeChild(i),i=void 0}}})).show()},u.hide=function(e,t){e.tooltip&&e.tooltip.hide(t)},"undefined"!=typeof module&&module.exports&&(module.exports=u),f("html").removeClass("no-js").addClass("js"),sessionStorage.serifFontsLoadedFoutWithClassPolyfill&&sessionStorage.sansFontsLoadedFoutWithClassPolyfill)document.documentElement.className+=" serif-fonts-loaded sans-fonts-loaded";else{!function(){var t,n=[];function e(){for(;n.length;)n[0](),n.shift()}function i(e){this.a=r,this.b=void 0,this.f=[];var t=this;try{e(function(e){!function t(n,e){if(n.a==r){if(e==n)throw new TypeError;var o=!1;try{var a=e&&e.then;if(null!=e&&"object"==m(e)&&"function"==typeof a)return void a.call(e,function(e){o||t(n,e),o=!0},function(e){o||l(n,e),o=!0})}catch(e){return void(o||l(n,e))}n.a=0,n.b=e,c(n)}}(t,e)},function(e){l(t,e)})}catch(e){l(t,e)}}t=function(){setTimeout(e)};var r=2;function s(t){return new i(function(e){e(t)})}function l(e,t){if(e.a==r){if(t==e)throw new TypeError;e.a=1,e.b=t,c(e)}}function c(a){var e;e=function(){if(a.a!=r)for(;a.f.length;){var e=(o=a.f.shift())[0],t=o[1],n=o[2],o=o[3];try{0==a.a?n("function"==typeof e?e.call(void 0,a.b):a.b):1==a.a&&("function"==typeof t?n(t.call(void 0,a.b)):o(a.b))}catch(e){o(e)}}},n.push(e),1==n.length&&t()}i.prototype.g=function(e){return this.c(void 0,e)},i.prototype.c=function(n,o){var a=this;return new i(function(e,t){a.f.push([n,o,e,t]),c(a)})},window.Promise||(window.Promise=i,window.Promise.resolve=s,window.Promise.reject=function(n){return new i(function(e,t){t(n)})},window.Promise.race=function(o){return new i(function(e,t){for(var n=0;n<o.length;n+=1)s(o[n]).c(e,t)})},window.Promise.all=function(r){return new i(function(n,e){function t(t){return function(e){a[t]=e,(o+=1)==r.length&&n(a)}}var o=0,a=[];0==r.length&&n(a);for(var i=0;i<r.length;i+=1)s(r[i]).c(t(i),e)})},window.Promise.prototype.then=i.prototype.c,window.Promise.prototype.catch=i.prototype.g)}(),v=h=E=C=null,p.prototype.load=function(e,t){var p=this,h=e||"BESbswy",v=0,y=t||3e3,w=(new Date).getTime();return new Promise(function(d,f){if(k()&&!function(){if(null===E)if(k()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);E=!!e&&parseInt(e[1],10)<603}else E=!1;return E}()){var e=new Promise(function(n,e){!function t(){(new Date).getTime()-w>=y?e(Error(y+"ms timeout exceeded")):document.fonts.load(x(p,'"'+p.family+'"'),h).then(function(e){1<=e.length?n():setTimeout(t,25)},e)}()}),t=new Promise(function(e,t){v=setTimeout(function(){t(Error(y+"ms timeout exceeded"))},y)});Promise.race([t,e]).then(function(){clearTimeout(v),d(p)},f)}else n=function(){function n(){var e;(e=-1!=r&&-1!=s||-1!=r&&-1!=l||-1!=s&&-1!=l)&&((e=r!=s&&r!=l&&s!=l)||(null===C&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),C=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)),e=C&&(r==t&&s==t&&l==t||r==c&&s==c&&l==c||r==m&&s==m&&l==m)),e=!e),e&&(u.parentNode&&u.parentNode.removeChild(u),clearTimeout(v),d(p))}var o=new b(h),a=new b(h),i=new b(h),r=-1,s=-1,l=-1,t=-1,c=-1,m=-1,u=document.createElement("div");u.dir="ltr",g(o,x(p,"sans-serif")),g(a,x(p,"serif")),g(i,x(p,"monospace")),u.appendChild(o.a),u.appendChild(a.a),u.appendChild(i.a),document.body.appendChild(u),t=o.a.offsetWidth,c=a.a.offsetWidth,m=i.a.offsetWidth,function e(){if((new Date).getTime()-w>=y)u.parentNode&&u.parentNode.removeChild(u),f(Error(y+"ms timeout exceeded"));else{var t=document.hidden;!0!==t&&void 0!==t||(r=o.a.offsetWidth,s=a.a.offsetWidth,l=i.a.offsetWidth,n()),v=setTimeout(e,50)}}(),_(o,function(e){r=e,n()}),g(o,x(p,'"'+p.family+'",sans-serif')),_(a,function(e){s=e,n()}),g(a,x(p,'"'+p.family+'",serif')),_(i,function(e){l=e,n()}),g(i,x(p,'"'+p.family+'",monospace'))},document.body?n():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),n()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),n())});var n})},"object"===("undefined"==typeof module?"undefined":m(module))?module.exports=p:(window.FontFaceObserver=p,window.FontFaceObserver.prototype.load=p.prototype.load);var e=new FontFaceObserver("ff-meta-web-pro"),t=new FontFaceObserver("ff-meta-web-pro",{weight:700}),n=new FontFaceObserver("ff-meta-web-pro",{weight:400,style:"italic"}),o=new FontFaceObserver("ff-meta-serif-web-pro",{weight:500}),a=new FontFaceObserver("ff-meta-serif-web-pro",{weight:500,style:"italic"}),i=new FontFaceObserver("ff-meta-serif-web-pro",{weight:700}),r=new FontFaceObserver("ff-meta-serif-web-pro",{weight:700,style:"italic"}),s=new FontFaceObserver("ff-meta-serif-web-pro",{weight:900}),l=new FontFaceObserver("ff-meta-serif-web-pro",{weight:900,style:"italic"});Promise.all([e.load(null,3e3),t.load(null,3e3),n.load(null,3e3),o.load(null,3e3),a.load(null,3e3),i.load(null,3e3),r.load(null,3e3),s.load(null,3e3),l.load(null,3e3)]).then(function(){document.documentElement.className+=" serif-fonts-loaded",sessionStorage.serifFontsLoadedFoutWithClassPolyfill=!0}),Promise.all([e.load(null,3e3),t.load(null,3e3),n.load(null,3e3)]).then(function(){document.documentElement.className+=" sans-fonts-loaded",sessionStorage.sansFontsLoadedFoutWithClassPolyfill=!0})}function c(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function b(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function g(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function d(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,1)}function _(e,t){function n(){var e=o;d(e)&&e.a.parentNode&&t(e.g)}var o=e;c(e.b,n),c(e.c,n),d(e)}function p(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function k(){return null===v&&(v=!!document.fonts),v}function x(e,t){return[e.style,e.weight,function(){if(null===h){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}h=""!==e.style.font}return h}()?e.stretch:"","100px",t].join(" ")}var C,E,h,v;function y(e,t,n,o,a){"undefined"!=typeof ga&&(void 0===a?ga("send",e,t,n,o):ga("send",e,t,n,o,a))}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}f(document).ready(function(e){if("undefined"!=typeof PUM){PUM.getPopup(f(".pum"));var t=PUM.getSettings(f(".pum")).id;f(document).on("pumAfterOpen",function(){y("event","Popup","Show",t,{nonInteraction:1})}),f(document).on("pumAfterClose",function(){var e=f.fn.popmake.last_close_trigger;void 0!==e&&y("event","Popup",e,t,{nonInteraction:1})}),f(".message-close").click(function(e){y("event","Popup","Close Button",t,{nonInteraction:1})}),f(".message-login").click(function(e){y("event","Popup","Login Link",f(this).attr("href"))}),f(".pum-content a:not( .message-close, .pum-close, .message-login )").click(function(e){y("event","Popup","Click",t)})}if("undefined"!=typeof minnpost_membership_data&&""!==minnpost_membership_data.url_access_level){var n=location.pathname,o="Blocked";!0===minnpost_membership_data.current_user.can_access&&(o="Shown"),y("event","Member Content",o,n)}}),f(".m-entry-share-top a").click(function(e){!function(e,t){var n=1<arguments.length&&void 0!==t?t:"";if(jQuery("body").hasClass("logged-in")||"Email"!==e){var o="Share";""!==n&&(o="Share - "+n),y("event",o,e,location.pathname),"undefined"!=typeof ga&&("Facebook"!==e&&"Twitter"!==e||("Facebook"==e?ga("send","social",e,"Share",location.pathname):ga("send","social",e,"Tweet",location.pathname)))}}(f(this).data("share-action"),"top")}),f(".m-entry-share .a-share-print a").click(function(e){e.preventDefault(),window.print()}),f(".m-entry-share .a-share-copy-url a").click(function(e){var t,n;return t=document.createElement("input"),n=window.location.href,document.body.appendChild(t),t.value=n,t.select(),document.execCommand("copy"),document.body.removeChild(t),u.show(e.target,{grav:"w"}),setTimeout(function(){u.hide(e.target)},3e3),!1}),f(".m-entry-share .a-share-facebook a, .m-entry-share .a-share-twitter a, .m-entry-share .a-share-email a").click(function(e){e.preventDefault();var t=f(this).attr("href");window.open(t,"_blank")});var w=document.querySelector("nav button"),S=document.querySelector("li.search a");w.nextElementSibling;function F(e){return'<li class="a-form-caption a-form-confirm"><label>Are you sure? <a id="a-confirm-'+e+'" href="#">Yes</a> | <a id="a-stop-'+e+'" href="#">No</a></label></li>'}function P(e,t,n){var o="",a="",i="",r="";o="1"===n?"On":"0"===n?"Off":"Click",!0===e&&(a="Always "),""!==(r=t.replace("always-show-comments-",""))&&(i=" - "+(r=r.charAt(0).toUpperCase()+r.slice(1))),y("event",a+"Show Comments"+i,o,location.pathname)}w.addEventListener("click",function(){var e="true"===this.getAttribute("aria-expanded")||!1;this.setAttribute("aria-expanded",!e);var t=this.nextElementSibling;t.hidden=!t.hidden}),S.addEventListener("click",function(e){e.preventDefault();var t="true"===this.getAttribute("aria-expanded")||!1;this.setAttribute("aria-expanded",!t);var n=this.nextElementSibling;n.hidden=!n.hidden}),f(document).keyup(function(e){if(27===e.keyCode){var t="true"===w.getAttribute("aria-expanded")||!1,n="true"===S.getAttribute("aria-expanded")||!1;if(void 0!==m(t)&&!0==t){var o=w.nextElementSibling;w.setAttribute("aria-expanded",!1),o.hidden=!o.hidden}if(void 0!==m(n)&&!0==n){var a=S.nextElementSibling;S.setAttribute("aria-expanded",!1),a.hidden=!a.hidden}}}),f("#navigation-featured a").click(function(e){y("event","Featured Bar Link","Click",this.href)}),f("a.glean-sidebar").click(function(e){y("event","Sidebar Support Link","Click",this.href)}),f("a",f(".o-site-sidebar")).click(function(e){var t=f(this).closest(".m-widget").find("h3").text(),n=f(this).closest(".m-zone").find(".a-zone-title").text(),o="";""!==t?o=t:""!==n&&(o=n),y("event","Sidebar Link","Click",o)}),f(document).ready(function(){0<f("#user-account-access ul").length&&f("#user-account-access > li > a").on("click",function(e){f("#user-account-access ul").toggleClass("visible"),e.preventDefault()})}),jQuery.fn.textNodes=function(){return this.contents().filter(function(){return this.nodeType===Node.TEXT_NODE&&""!==this.nodeValue.trim()})},f(document).ready(function(e){var t,o,n,a,i,r,s,l,c,m,u,d;0<e(".m-form-email").length&&(t=f("#account-settings-form"),o=user_account_management_rest.site_url+user_account_management_rest.rest_namespace+"/update-user/",a=1,c=[],m=[],d=u=l=s=r=i=n="",f('.a-form-caption.a-make-primary-email input[type="radio"]').prop("checked",!1),f('.a-form-caption.a-remove-email input[type="checkbox"]').prop("checked",!1),0<f(".m-user-email-list").length&&(a=f(".m-user-email-list > li").length,f(".m-user-email-list").on("click",'.a-form-caption.a-make-primary-email input[type="radio"]',function(e){i=f(this).val(),r=f("#email").val(),s=f(this).prop("id").replace("primary_email_",""),n=F("primary-change"),d=f(this).parent().parent(),f(".a-pre-confirm",d).hide(),f(".a-form-confirm",d).show(),f(this).parent().parent().addClass("a-pre-confirm"),f(this).parent().parent().removeClass("a-stop-confirm"),f(this).parent().parent().append(n),f(".m-user-email-list").on("click","#a-confirm-primary-change",function(e){e.preventDefault(),f(".m-user-email-list > li").textNodes().first().replaceWith(i),f("#user-email-"+s).textNodes().first().replaceWith(r),f("#email").val(i),t.submit(),f('.a-form-caption.a-make-primary-email input[type="radio"]').prop("checked",!1),f("#primary_email_"+s).val(r),f("#remove_email_"+s).val(r),f(".a-form-confirm",d.parent()).remove(),f(".a-pre-confirm",d.parent()).show()}),f(".m-user-email-list").on("click","#a-stop-primary-change",function(e){e.preventDefault(),f(".a-pre-confirm",d.parent()).show(),f(".a-form-confirm",d.parent()).remove()})}),f(".m-user-email-list").on("change",'.a-form-caption.a-remove-email input[type="checkbox"]',function(e){l=f(this).val(),n=F("removal"),f(".m-user-email-list > li").each(function(e){f(this).contents().get(0).nodeValue!==l&&c.push(f(this).contents().get(0).nodeValue)}),d=f(this).parent().parent(),f(".a-pre-confirm",d).hide(),f(".a-form-confirm",d).show(),f(this).parent().parent().addClass("a-pre-confirm"),f(this).parent().parent().removeClass("a-stop-confirm"),f(this).parent().parent().append(n),f(".m-user-email-list").on("click","#a-confirm-removal",function(e){e.preventDefault(),f(this).parents("li").fadeOut("normal",function(){f(this).remove()}),f("#_consolidated_emails").val(c.join(",")),console.log("value is "+c.join(",")),a=f(".m-user-email-list > li").length,t.submit(),f(".a-form-confirm",d.parent()).remove()}),f(".m-user-email-list").on("click","#a-stop-removal",function(e){e.preventDefault(),f(".a-pre-confirm",d.parent()).show(),f(".a-form-confirm",d.parent()).remove()})})),f(".m-form-email").on("click",".a-form-caption.a-add-email",function(e){e.preventDefault(),f(".a-form-caption.a-add-email").before('<div class="a-input-with-button a-button-sentence"><input type="email" name="_consolidated_emails_array[]" id="_consolidated_emails_array[]" value=""><button type="submit" name="a-add-email-'+a+'" id="a-add-email-'+a+'" class="a-button a-button-add-user-email">Add</button></div>'),a++}),f("input[type=submit]").click(function(e){var t=f(this);t.closest("form").data("submitting_button",t.val())}),f(".m-entry-content").on("submit","#account-settings-form",function(e){var t=f(this),n=t.data("submitting_button")||"";""!==n&&"Save Changes"===n||(e.preventDefault(),u=t.serialize(),u+="&rest=true",f.ajax({url:o,type:"post",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",user_account_management_rest.nonce)},dataType:"json",data:u}).done(function(e){m=f('input[name="_consolidated_emails_array[]"]').map(function(){return f(this).val()}).get(),f.each(m,function(e,t){a+=e,f(".m-user-email-list").append('<li id="user-email-'+a+'">'+t+'<ul class="a-form-caption a-user-email-actions"><li class="a-form-caption a-pre-confirm a-make-primary-email"><input type="radio" name="primary_email" id="primary_email_'+a+'" value="'+t+'"><label for="primary_email_'+a+'"><small>Make Primary</small></label></li><li class="a-form-caption a-pre-confirm a-email-preferences"><a href="/newsletters/?email='+encodeURIComponent(t)+'"><small>Email Preferences</small></a></li><li class="a-form-caption a-pre-confirm a-remove-email"><input type="checkbox" name="remove_email['+a+']" id="remove_email_'+a+'" value="'+t+'"><label for="remove_email_'+a+'"><small>Remove</small></label></li></ul></li>'),f("#_consolidated_emails").val(f("#_consolidated_emails").val()+","+t)}),f(".m-form-change-email .a-input-with-button").remove(),0===f(".m-user-email-list").length&&f('input[name="_consolidated_emails_array[]"]')!==f('input[name="email"]')&&location.reload()}))}))}),f(document).on("click",".a-button-show-comments",function(){P(!1,"","")}),f(document).on("click",".a-checkbox-always-show-comments",function(){var t=f(this);t.is(":checked")?f(".a-checkbox-always-show-comments").prop("checked",!0):f(".a-checkbox-always-show-comments").prop("checked",!1),P(!0,t.attr("id"),t.val()),f.ajax({type:"POST",url:ajaxurl,data:{action:"minnpost_largo_load_comments_set_user_meta",value:t.val()},success:function(e){f(".a-always-show-comments-result",t.parent()).html(e.data.message),!0===e.data.show?f(".a-checkbox-always-show-comments").val(0):f(".a-checkbox-always-show-comments").val(1)}})})}(jQuery);