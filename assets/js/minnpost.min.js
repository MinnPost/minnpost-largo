!function(f){"use strict";function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if(sessionStorage.serifFontsLoadedFoutWithClassPolyfill&&sessionStorage.sansFontsLoadedFoutWithClassPolyfill)document.documentElement.className+=" serif-fonts-loaded sans-fonts-loaded";else{!function(){var t,n=[];function e(){for(;n.length;)n[0](),n.shift()}function i(e){this.a=r,this.b=void 0,this.f=[];var t=this;try{e(function(e){!function t(n,e){if(n.a==r){if(e==n)throw new TypeError;var a=!1;try{var o=e&&e.then;if(null!=e&&"object"==m(e)&&"function"==typeof o)return void o.call(e,function(e){a||t(n,e),a=!0},function(e){a||l(n,e),a=!0})}catch(e){return void(a||l(n,e))}n.a=0,n.b=e,c(n)}}(t,e)},function(e){l(t,e)})}catch(e){l(t,e)}}t=function(){setTimeout(e)};var r=2;function s(t){return new i(function(e){e(t)})}function l(e,t){if(e.a==r){if(t==e)throw new TypeError;e.a=1,e.b=t,c(e)}}function c(o){var e;e=function(){if(o.a!=r)for(;o.f.length;){var e=(a=o.f.shift())[0],t=a[1],n=a[2],a=a[3];try{0==o.a?n("function"==typeof e?e.call(void 0,o.b):o.b):1==o.a&&("function"==typeof t?n(t.call(void 0,o.b)):a(o.b))}catch(e){a(e)}}},n.push(e),1==n.length&&t()}i.prototype.g=function(e){return this.c(void 0,e)},i.prototype.c=function(n,a){var o=this;return new i(function(e,t){o.f.push([n,a,e,t]),c(o)})},window.Promise||(window.Promise=i,window.Promise.resolve=s,window.Promise.reject=function(n){return new i(function(e,t){t(n)})},window.Promise.race=function(a){return new i(function(e,t){for(var n=0;n<a.length;n+=1)s(a[n]).c(e,t)})},window.Promise.all=function(r){return new i(function(n,e){function t(t){return function(e){o[t]=e,(a+=1)==r.length&&n(o)}}var a=0,o=[];0==r.length&&n(o);for(var i=0;i<r.length;i+=1)s(r[i]).c(t(i),e)})},window.Promise.prototype.then=i.prototype.c,window.Promise.prototype.catch=i.prototype.g)}(),h=p=C=N=null,d.prototype.load=function(e,t){var p=this,h=e||"BESbswy",v=0,g=t||3e3,y=(new Date).getTime();return new Promise(function(d,f){if(k()&&!function(){if(null===C)if(k()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);C=!!e&&parseInt(e[1],10)<603}else C=!1;return C}()){var e=new Promise(function(n,e){!function t(){(new Date).getTime()-y>=g?e(Error(g+"ms timeout exceeded")):document.fonts.load(x(p,'"'+p.family+'"'),h).then(function(e){1<=e.length?n():setTimeout(t,25)},e)}()}),t=new Promise(function(e,t){v=setTimeout(function(){t(Error(g+"ms timeout exceeded"))},g)});Promise.race([t,e]).then(function(){clearTimeout(v),d(p)},f)}else n=function(){function n(){var e;(e=-1!=r&&-1!=s||-1!=r&&-1!=l||-1!=s&&-1!=l)&&((e=r!=s&&r!=l&&s!=l)||(null===N&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),N=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)),e=N&&(r==t&&s==t&&l==t||r==c&&s==c&&l==c||r==m&&s==m&&l==m)),e=!e),e&&(u.parentNode&&u.parentNode.removeChild(u),clearTimeout(v),d(p))}var a=new w(h),o=new w(h),i=new w(h),r=-1,s=-1,l=-1,t=-1,c=-1,m=-1,u=document.createElement("div");u.dir="ltr",b(a,x(p,"sans-serif")),b(o,x(p,"serif")),b(i,x(p,"monospace")),u.appendChild(a.a),u.appendChild(o.a),u.appendChild(i.a),document.body.appendChild(u),t=a.a.offsetWidth,c=o.a.offsetWidth,m=i.a.offsetWidth,function e(){if((new Date).getTime()-y>=g)u.parentNode&&u.parentNode.removeChild(u),f(Error(g+"ms timeout exceeded"));else{var t=document.hidden;!0!==t&&void 0!==t||(r=a.a.offsetWidth,s=o.a.offsetWidth,l=i.a.offsetWidth,n()),v=setTimeout(e,50)}}(),_(a,function(e){r=e,n()}),b(a,x(p,'"'+p.family+'",sans-serif')),_(o,function(e){s=e,n()}),b(o,x(p,'"'+p.family+'",serif')),_(i,function(e){l=e,n()}),b(i,x(p,'"'+p.family+'",monospace'))},document.body?n():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),n()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),n())});var n})},"object"===("undefined"==typeof module?"undefined":m(module))?module.exports=d:(window.FontFaceObserver=d,window.FontFaceObserver.prototype.load=d.prototype.load);var e=new FontFaceObserver("ff-meta-web-pro"),t=new FontFaceObserver("ff-meta-web-pro",{weight:700}),n=new FontFaceObserver("ff-meta-web-pro",{weight:400,style:"italic"}),a=new FontFaceObserver("ff-meta-serif-web-pro",{weight:500}),o=new FontFaceObserver("ff-meta-serif-web-pro",{weight:500,style:"italic"}),i=new FontFaceObserver("ff-meta-serif-web-pro",{weight:700}),r=new FontFaceObserver("ff-meta-serif-web-pro",{weight:700,style:"italic"}),s=new FontFaceObserver("ff-meta-serif-web-pro",{weight:900}),l=new FontFaceObserver("ff-meta-serif-web-pro",{weight:900,style:"italic"});Promise.all([e.load(null,3e3),t.load(null,3e3),n.load(null,3e3),a.load(null,3e3),o.load(null,3e3),i.load(null,3e3),r.load(null,3e3),s.load(null,3e3),l.load(null,3e3)]).then(function(){document.documentElement.className+=" serif-fonts-loaded",sessionStorage.serifFontsLoadedFoutWithClassPolyfill=!0}),Promise.all([e.load(null,3e3),t.load(null,3e3),n.load(null,3e3)]).then(function(){document.documentElement.className+=" sans-fonts-loaded",sessionStorage.sansFontsLoadedFoutWithClassPolyfill=!0})}function c(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function w(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function b(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function u(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,1)}function _(e,t){function n(){var e=a;u(e)&&e.a.parentNode&&t(e.g)}var a=e;c(e.b,n),c(e.c,n),u(e)}function d(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function k(){return null===h&&(h=!!document.fonts),h}function x(e,t){return[e.style,e.weight,function(){if(null===p){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}p=""!==e.style.font}return p}()?e.stretch:"","100px",t].join(" ")}var N,C,p,h;function v(e,t,n,a,o){"undefined"!=typeof ga&&(void 0===o?ga("send",e,t,n,a):ga("send",e,t,n,a,o))}function g(e,t){!jQuery("body").hasClass("logged-in")&&"Email"===e||(v("event","Share - "+t,e,location.pathname),"undefined"!=typeof ga&&("Facebook"!==e&&"Twitter"!==e||("Facebook"==e?ga("send","social",e,"Share",location.pathname):ga("send","social",e,"Tweet",location.pathname))))}function y(a){var e,t,n,o,i;if((a=document.getElementById(a))&&void 0!==(e=a.getElementsByTagName("button")[0]))if(void 0!==(t=a.getElementsByTagName("ul")[0])){for(t.setAttribute("aria-expanded","false"),-1===t.className.indexOf("menu")&&(t.className+=" menu"),e.onclick=function(){-1!==a.className.indexOf("toggled")?(a.className=a.className.replace(" toggled",""),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-expanded","false")):(a.className+=" toggled",e.setAttribute("aria-expanded","true"),t.setAttribute("aria-expanded","true"))},o=0,i=(n=t.getElementsByTagName("a")).length;o<i;o++)n[o].addEventListener("focus",E,!0),n[o].addEventListener("blur",E,!0);!function(){var e,t,n=a.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");if("ontouchstart"in window)for(e=function(e){var t,n=this.parentNode;if(n.classList.contains("focus"))n.classList.remove("focus");else{for(e.preventDefault(),t=0;t<n.parentNode.children.length;++t)n!==n.parentNode.children[t]&&n.parentNode.children[t].classList.remove("focus");n.classList.add("focus")}},t=0;t<n.length;++t)n[t].addEventListener("touchstart",e,!1)}()}else e.style.display="none"}function E(){for(var e=this;-1===e.className.indexOf("menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}function F(e){return'<li class="a-form-caption a-form-confirm"><label>Are you sure? <a id="a-confirm-'+e+'" href="#">Yes</a> | <a id="a-stop-'+e+'" href="#">No</a></label></li>'}function P(e,t,n){var a="",o="",i="",r="";a="1"===n?"On":"0"===n?"Off":"Click",!0===e&&(o="Always "),""!==(r=t.replace("always-show-comments-",""))&&(i=" - "+(r=r.charAt(0).toUpperCase()+r.slice(1))),v("event",o+"Show Comments"+i,a,location.pathname)}f(document).ready(function(e){if("undefined"!=typeof PUM){PUM.getPopup(f(".pum"));var t=PUM.getSettings(f(".pum")).id;f(document).on("pumAfterOpen",function(){v("event","Popup","Show",t,{nonInteraction:1})}),f(document).on("pumAfterClose",function(){var e=f.fn.popmake.last_close_trigger;void 0!==e&&v("event","Popup",e,t,{nonInteraction:1})}),f(".message-close").click(function(e){v("event","Popup","Close Button",t,{nonInteraction:1})}),f(".message-login").click(function(e){v("event","Popup","Login Link",f(this).attr("href"))}),f(".pum-content a:not( .message-close, .pum-close, .message-login )").click(function(e){v("event","Popup","Click",t)})}if("undefined"!=typeof minnpost_membership_data&&""!==minnpost_membership_data.url_access_level){var n=location.pathname,a="Blocked";!0===minnpost_membership_data.current_user.can_access&&(a="Shown"),v("event","Member Content",a,n)}}),f(".m-entry-share-top a").click(function(e){g(f(this).text().trim(),"top")}),f(".m-entry-share-bottom a").click(function(e){g(f(this).text().trim(),"bottom")}),y("navigation-primary"),y("navigation-user-account-management"),function(e){var t,n,a;if(!(e=document.getElementById(e)))return;if(t=f("li.search",f(e)),n=f("li.search a",f(e)),a=e.getElementsByTagName("form")[0],void 0===n||void 0===a)return;0<f(a).length&&(f(document).click(function(e){!f(e.target).closest(t).length&&f(a).is(":visible")&&(a.className=a.className.replace(" toggled-form",""),f(n).prop("aria-expanded",!1),f(n).removeClass("toggled-form"))}),f(n).on("click",function(e){e.preventDefault(),-1!==a.className.indexOf("toggled-form")?(a.className=a.className.replace(" toggled-form",""),f(n).prop("aria-expanded",!1),f(n).removeClass("toggled-form")):(a.className+=" toggled-form",f(n).prop("aria-expanded",!0),f(n).addClass("toggled-form"))}))}("navigation-primary"),f("#navigation-featured a").click(function(e){v("event","Featured Bar Link","Click",this.href)}),f("a.glean-sidebar").click(function(e){v("event","Sidebar Support Link","Click",this.href)}),f("a",f(".o-site-sidebar")).click(function(e){var t=f(this).closest(".m-widget").find("h3").text(),n=f(this).closest(".m-zone").find(".a-zone-title").text(),a="";""!==t?a=t:""!==n&&(a=n),v("event","Sidebar Link","Click",a)}),f(document).ready(function(){0<f("#user-account-access ul").length&&f("#user-account-access > li > a").on("click",function(e){f("#user-account-access ul").toggleClass("visible"),e.preventDefault()})}),jQuery.fn.textNodes=function(){return this.contents().filter(function(){return this.nodeType===Node.TEXT_NODE&&""!==this.nodeValue.trim()})},f(document).ready(function(e){var t,a,n,o,i,r,s,l,c,m,u,d;0<e(".m-form-email").length&&(t=f("#account-settings-form"),a=user_account_management_rest.site_url+user_account_management_rest.rest_namespace+"/update-user/",o=1,c=[],m=[],d=u=l=s=r=i=n="",f('.a-form-caption.a-make-primary-email input[type="radio"]').prop("checked",!1),f('.a-form-caption.a-remove-email input[type="checkbox"]').prop("checked",!1),0<f(".m-user-email-list").length&&(o=f(".m-user-email-list > li").length,f(".m-user-email-list").on("click",'.a-form-caption.a-make-primary-email input[type="radio"]',function(e){i=f(this).val(),r=f("#email").val(),s=f(this).prop("id").replace("primary_email_",""),n=F("primary-change"),d=f(this).parent().parent(),f(".a-pre-confirm",d).hide(),f(".a-form-confirm",d).show(),f(this).parent().parent().addClass("a-pre-confirm"),f(this).parent().parent().removeClass("a-stop-confirm"),f(this).parent().parent().append(n),f(".m-user-email-list").on("click","#a-confirm-primary-change",function(e){e.preventDefault(),f(".m-user-email-list > li").textNodes().first().replaceWith(i),f("#user-email-"+s).textNodes().first().replaceWith(r),f("#email").val(i),t.submit(),f('.a-form-caption.a-make-primary-email input[type="radio"]').prop("checked",!1),f("#primary_email_"+s).val(r),f("#remove_email_"+s).val(r),f(".a-form-confirm",d.parent()).remove(),f(".a-pre-confirm",d.parent()).show()}),f(".m-user-email-list").on("click","#a-stop-primary-change",function(e){e.preventDefault(),f(".a-pre-confirm",d.parent()).show(),f(".a-form-confirm",d.parent()).remove()})}),f(".m-user-email-list").on("change",'.a-form-caption.a-remove-email input[type="checkbox"]',function(e){l=f(this).val(),n=F("removal"),f(".m-user-email-list > li").each(function(e){f(this).contents().get(0).nodeValue!==l&&c.push(f(this).contents().get(0).nodeValue)}),d=f(this).parent().parent(),f(".a-pre-confirm",d).hide(),f(".a-form-confirm",d).show(),f(this).parent().parent().addClass("a-pre-confirm"),f(this).parent().parent().removeClass("a-stop-confirm"),f(this).parent().parent().append(n),f(".m-user-email-list").on("click","#a-confirm-removal",function(e){e.preventDefault(),f(this).parents("li").fadeOut("normal",function(){f(this).remove()}),f("#_consolidated_emails").val(c.join(",")),console.log("value is "+c.join(",")),o=f(".m-user-email-list > li").length,t.submit(),f(".a-form-confirm",d.parent()).remove()}),f(".m-user-email-list").on("click","#a-stop-removal",function(e){e.preventDefault(),f(".a-pre-confirm",d.parent()).show(),f(".a-form-confirm",d.parent()).remove()})})),f(".m-form-email").on("click",".a-form-caption.a-add-email",function(e){e.preventDefault(),f(".a-form-caption.a-add-email").before('<div class="a-input-with-button a-button-sentence"><input type="email" name="_consolidated_emails_array[]" id="_consolidated_emails_array[]" value=""><button type="submit" name="a-add-email-'+o+'" id="a-add-email-'+o+'" class="a-button a-button-add-user-email">Add</button></div>'),o++}),f("input[type=submit]").click(function(e){var t=f(this);t.closest("form").data("submitting_button",t.val())}),f(".m-entry-content").on("submit","#account-settings-form",function(e){var t=f(this),n=t.data("submitting_button")||"";""!==n&&"Save Changes"===n||(e.preventDefault(),u=t.serialize(),u+="&rest=true",f.ajax({url:a,type:"post",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",user_account_management_rest.nonce)},dataType:"json",data:u}).done(function(e){m=f('input[name="_consolidated_emails_array[]"]').map(function(){return f(this).val()}).get(),f.each(m,function(e,t){o+=e,f(".m-user-email-list").append('<li id="user-email-'+o+'">'+t+'<ul class="a-form-caption a-user-email-actions"><li class="a-form-caption a-pre-confirm a-make-primary-email"><input type="radio" name="primary_email" id="primary_email_'+o+'" value="'+t+'"><label for="primary_email_'+o+'"><small>Make Primary</small></label></li><li class="a-form-caption a-pre-confirm a-email-preferences"><a href="/newsletters/?email='+encodeURIComponent(t)+'"><small>Email Preferences</small></a></li><li class="a-form-caption a-pre-confirm a-remove-email"><input type="checkbox" name="remove_email['+o+']" id="remove_email_'+o+'" value="'+t+'"><label for="remove_email_'+o+'"><small>Remove</small></label></li></ul></li>'),f("#_consolidated_emails").val(f("#_consolidated_emails").val()+","+t)}),f(".m-form-change-email .a-input-with-button").remove(),0===f(".m-user-email-list").length&&f('input[name="_consolidated_emails_array[]"]')!==f('input[name="email"]')&&location.reload()}))}))}),f(document).on("click",".a-button-show-comments",function(){P(!1,"","")}),f(document).on("click",".a-checkbox-always-show-comments",function(){var t=f(this);t.is(":checked")?f(".a-checkbox-always-show-comments").prop("checked",!0):f(".a-checkbox-always-show-comments").prop("checked",!1),P(!0,t.attr("id"),t.val()),f.ajax({type:"POST",url:ajaxurl,data:{action:"minnpost_largo_load_comments_set_user_meta",value:t.val()},success:function(e){f(".a-always-show-comments-result",t.parent()).html(e.data.message),!0===e.data.show?f(".a-checkbox-always-show-comments").val(0):f(".a-checkbox-always-show-comments").val(1)}})})}(jQuery);