;(function($) {
"use strict";

function showHideConditionalValue(value) {
  var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

  if ('gets_emails' === value && '' !== parent) {
    $('.cmb2-message-conditional-value', parent).hide();
    $('.cmb2-message-conditional-emails-value', parent).show();
  } else if ('has_role' === value && '' !== parent) {
    $('.cmb2-message-conditional-value', parent).hide();
    $('.cmb2-message-conditional-roles-value', parent).show();
  }

  if ('gets_emails' !== value && '' !== parent) {
    $('.cmb2-message-conditional-emails-value', parent).hide();
    $('.cmb2-message-conditional-emails-value input:checkbox', parent).prop('checked', false);
  }

  if ('has_role' !== value && '' !== parent) {
    $('.cmb2-message-conditional-roles-value', parent).hide();
    $('.cmb2-message-conditional-roles-value input:checkbox', parent).prop('checked', false);
  }
}

function setupMessageConditional() {
  var conditionalSelector = '.cmb2-message-conditional select';

  if (0 < $(conditionalSelector).length) {
    showHideConditionalValue($(conditionalSelector).val());
    $(document).on('change', conditionalSelector, function (event) {
      showHideConditionalValue($(this).val(), $(event.target).closest('.cmb-field-list'));
    });
  }
}

$(document).ready(function () {
  setupMessageConditional();
});
"use strict";

function showHideCategoryGroupChoices(radioValue, checkboxesSelector) {
  if ('undefined' === typeof radioValue || '' === radioValue) {
    $(checkboxesSelector).show();
  } else {
    $(checkboxesSelector).hide();
  }
}

function setupCategoryGroupChoices() {
  var categoryGroupSelector = '.cmb2-id--mp-category-group input:checked';
  var groupedCategoriesSelector = '.cmb2-id--mp-category-grouped-categories';

  if (0 < $(categoryGroupSelector).length || 0 < $(groupedCategoriesSelector).length) {
    showHideCategoryGroupChoices($(categoryGroupSelector).val(), groupedCategoriesSelector);
    $(document).on('change', categoryGroupSelector, function () {
      showHideCategoryGroupChoices($(this).val(), groupedCategoriesSelector);
    });
  }
}

$(document).ready(function () {
  setupCategoryGroupChoices();
});
"use strict";

function showHideNewsletterSection(value) {
  var newsletterSectionSelector = '.cmb2-newsletter-section';

  if (0 < $(newsletterSectionSelector).length) {
    $(newsletterSectionSelector).each(function (index) {
      var parent = $(this).closest('.context-box');

      if ($(this).hasClass('cmb2-newsletter-section-' + value)) {
        parent.show();
      } else {
        parent.hide();
      }
    });
  }
}

function showHideBodyField(value) {
  var editor = '.postarea';

  if ('dc_memo' === value || 'daily_coronavirus' === value) {
    $(editor).show();
  } else {
    $(editor).hide();
  }
}

function showIntroSection(value) {
  var intro_text = '.cmb2-id--mp-newsletter-newsletter-teaser';

  if ('artscape' === value) {
    $('#_mp_newsletter_introduction').removeClass('closed');
  }

  if ('dc_memo' === value || 'daily_coronavirus' === value) {
    $(intro_text).hide();
  } else {
    $(intro_text).show();
  }
}

function setupNewsletterSections() {
  var newsletterTypeSelector = '#_mp_newsletter_type';

  if (0 < $(newsletterTypeSelector).length) {
    showHideNewsletterSection($(newsletterTypeSelector).val());
    showHideBodyField($(newsletterTypeSelector).val());
    showIntroSection($(newsletterTypeSelector).val());
    $(document).on('change', newsletterTypeSelector, function (event) {
      showHideNewsletterSection($(this).val());
      showIntroSection($(this).val());
      showHideBodyField($(this).val());
    });
  }
}

$(document).ready(function () {
  setupNewsletterSections();
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAxLW1lc3NhZ2VzLmpzIiwiMDItY2F0ZWdvcmllcy5qcyIsIjAzLW5ld3NsZXR0ZXJzLmpzIl0sIm5hbWVzIjpbInNob3dIaWRlQ29uZGl0aW9uYWxWYWx1ZSIsInZhbHVlIiwicGFyZW50IiwiJCIsImhpZGUiLCJzaG93IiwicHJvcCIsInNldHVwTWVzc2FnZUNvbmRpdGlvbmFsIiwiY29uZGl0aW9uYWxTZWxlY3RvciIsImxlbmd0aCIsInZhbCIsImRvY3VtZW50Iiwib24iLCJldmVudCIsInRhcmdldCIsImNsb3Nlc3QiLCJyZWFkeSIsInNob3dIaWRlQ2F0ZWdvcnlHcm91cENob2ljZXMiLCJyYWRpb1ZhbHVlIiwiY2hlY2tib3hlc1NlbGVjdG9yIiwic2V0dXBDYXRlZ29yeUdyb3VwQ2hvaWNlcyIsImNhdGVnb3J5R3JvdXBTZWxlY3RvciIsImdyb3VwZWRDYXRlZ29yaWVzU2VsZWN0b3IiLCJzaG93SGlkZU5ld3NsZXR0ZXJTZWN0aW9uIiwibmV3c2xldHRlclNlY3Rpb25TZWxlY3RvciIsImVhY2giLCJpbmRleCIsImhhc0NsYXNzIiwic2hvd0hpZGVCb2R5RmllbGQiLCJlZGl0b3IiLCJzaG93SW50cm9TZWN0aW9uIiwiaW50cm9fdGV4dCIsInJlbW92ZUNsYXNzIiwic2V0dXBOZXdzbGV0dGVyU2VjdGlvbnMiLCJuZXdzbGV0dGVyVHlwZVNlbGVjdG9yIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLHdCQUFULENBQW1DQyxLQUFuQyxFQUF3RDtBQUFBLE1BQWRDLE1BQWMsdUVBQUwsRUFBSzs7QUFDdkQsTUFBSyxrQkFBa0JELEtBQWxCLElBQTJCLE9BQU9DLE1BQXZDLEVBQWdEO0FBQy9DQyxJQUFBQSxDQUFDLENBQUUsaUNBQUYsRUFBcUNELE1BQXJDLENBQUQsQ0FBK0NFLElBQS9DO0FBQ0FELElBQUFBLENBQUMsQ0FBRSx3Q0FBRixFQUE0Q0QsTUFBNUMsQ0FBRCxDQUFzREcsSUFBdEQ7QUFDQSxHQUhELE1BR08sSUFBSyxlQUFlSixL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LENBRkQiLCJmaWxlIjoibWlubnBvc3QtbGFyZ28tYWRtaW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBzaG93SGlkZUNvbmRpdGlvbmFsVmFsdWUoIHZhbHVlLCBwYXJlbnQgPSAnJyApIHtcblx0aWYgKCAnZ2V0c19lbWFpbHMnID09PSB2YWx1ZSAmJiAnJyAhPT0gcGFyZW50ICkge1xuXHRcdCQoICcuY21iMi1tZXNzYWdlLWNvbmRpdGlvbmFsLXZhbHVlJywgcGFyZW50ICkuaGlkZSgpO1xuXHRcdCQoICcuY21iMi1tZXNzYWdlLWNvbmRpdGlvbmFsLWVtYWlscy12YWx1ZScsIHBhcmVudCApLnNob3coKTtcblx0fSBlbHNlIGlmICggJ2hhc19yb2xlJyA9PT0gdmFsdWUgJiYgJycgIT09IHBhcmVudCApIHtcblx0XHQkKCAnLmNtYjItbWVzc2FnZS1jb25kaXRpb25hbC12YWx1ZScsIHBhcmVudCApLmhpZGUoKTtcblx0XHQkKCAnLmNtYjItbWVzc2FnZS1jb25kaXRpb25hbC1yb2xlcy12YWx1ZScsIHBhcmVudCApLnNob3coKTtcblx0fVxuXHRpZiAoICdnZXRzX2VtYWlscycgIT09IHZhbHVlICYmICcnICE9PSBwYXJlbnQgKSB7XG5cdFx0JCggJy5jbWIyLW1lc3NhZ2UtY29uZGl0aW9uYWwtZW1haWxzLXZhbHVlJywgcGFyZW50ICkuaGlkZSgpO1xuXHRcdCQoICcuY21iMi1tZXNzYWdlLWNvbmRpdGlvbmFsLWVtYWlscy12YWx1ZSBpbnB1dDpjaGVja2JveCcsIHBhcmVudCApLnByb3AoICdjaGVja2VkJywgZmFsc2UgKTtcblx0fVxuXHRpZiAoICdoYXNfcm9sZScgIT09IHZhbHVlICYmICcnICE9PSBwYXJlbnQgKSB7XG5cdFx0JCggJy5jbWIyLW1lc3NhZ2UtY29uZGl0aW9uYWwtcm9sZXMtdmFsdWUnLCBwYXJlbnQgKS5oaWRlKCk7XG5cdFx0JCggJy5jbWIyLW1lc3NhZ2UtY29uZGl0aW9uYWwtcm9sZXMtdmFsdWUgaW5wdXQ6Y2hlY2tib3gnLCBwYXJlbnQgKS5wcm9wKCAnY2hlY2tlZCcsIGZhbHNlICk7XG5cdH1cbn1cblxuZnVuY3Rpb24gc2V0dXBNZXNzYWdlQ29uZGl0aW9uYWwoKSB7XG5cdHZhciBjb25kaXRpb25hbFNlbGVjdG9yID0gJy5jbWIyLW1lc3NhZ2UtY29uZGl0aW9uYWwgc2VsZWN0Jztcblx0aWYgKCAwIDwgJCggY29uZGl0aW9uYWxTZWxlY3RvciApLmxlbmd0aCApIHtcblx0XHRzaG93SGlkZUNvbmRpdGlvbmFsVmFsdWUoICQoIGNvbmRpdGlvbmFsU2VsZWN0b3IgKS52YWwoKSApO1xuXHRcdCQoIGRvY3VtZW50ICkub24oICdjaGFuZ2UnLCBjb25kaXRpb25hbFNlbGVjdG9yLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRzaG93SGlkZUNvbmRpdGlvbmFsVmFsdWUoICQoIHRoaXMgKS52YWwoKSwgJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggJy5jbWItZmllbGQtbGlzdCcgKSApO1xuXHRcdH0gKTtcblx0fVxufVxuXG4kKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0c2V0dXBNZXNzYWdlQ29uZGl0aW9uYWwoKTtcbn0gKTtcbiIsImZ1bmN0aW9uIHNob3dIaWRlQ2F0ZWdvcnlHcm91cENob2ljZXMoIHJhZGlvVmFsdWUsIGNoZWNrYm94ZXNTZWxlY3RvciApIHtcblx0aWYgKCAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHJhZGlvVmFsdWUgfHwgJycgPT09IHJhZGlvVmFsdWUgKSB7XG5cdFx0JCggY2hlY2tib3hlc1NlbGVjdG9yICkuc2hvdygpO1xuXHR9IGVsc2Uge1xuXHRcdCQoIGNoZWNrYm94ZXNTZWxlY3RvciApLmhpZGUoKTtcblx0fVxufVxuXG5mdW5jdGlvbiBzZXR1cENhdGVnb3J5R3JvdXBDaG9pY2VzKCkge1xuXHR2YXIgY2F0ZWdvcnlHcm91cFNlbGVjdG9yICAgICA9ICcuY21iMi1pZC0tbXAtY2F0ZWdvcnktZ3JvdXAgaW5wdXQ6Y2hlY2tlZCc7XG5cdHZhciBncm91cGVkQ2F0ZWdvcmllc1NlbGVjdG9yID0gJy5jbWIyLWlkLS1tcC1jYXRlZ29yeS1ncm91cGVkLWNhdGVnb3JpZXMnO1xuXHRpZiAoIDAgPCAkKCBjYXRlZ29yeUdyb3VwU2VsZWN0b3IgKS5sZW5ndGggfHwgMCA8ICQoIGdyb3VwZWRDYXRlZ29yaWVzU2VsZWN0b3IgKS5sZW5ndGggKSB7XG5cdFx0c2hvd0hpZGVDYXRlZ29yeUdyb3VwQ2hvaWNlcyggJCggY2F0ZWdvcnlHcm91cFNlbGVjdG9yICkudmFsKCksIGdyb3VwZWRDYXRlZ29yaWVzU2VsZWN0b3IgKTtcblx0XHQkKCBkb2N1bWVudCApLm9uKCAnY2hhbmdlJywgY2F0ZWdvcnlHcm91cFNlbGVjdG9yLCBmdW5jdGlvbigpIHtcblx0XHRcdHNob3dIaWRlQ2F0ZWdvcnlHcm91cENob2ljZXMoICQoIHRoaXMgKS52YWwoKSwgZ3JvdXBlZENhdGVnb3JpZXNTZWxlY3RvciApO1xuXHRcdH0gKTtcblx0fVxufVxuXG4kKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0c2V0dXBDYXRlZ29yeUdyb3VwQ2hvaWNlcygpO1xufSApO1xuIiwiZnVuY3Rpb24gc2hvd0hpZGVOZXdzbGV0dGVyU2VjdGlvbiggdmFsdWUgKSB7XG4gICAgdmFyIG5ld3NsZXR0ZXJTZWN0aW9uU2VsZWN0b3IgPSAnLmNtYjItbmV3c2xldHRlci1zZWN0aW9uJztcbiAgICBpZiAoIDAgPCAkKCBuZXdzbGV0dGVyU2VjdGlvblNlbGVjdG9yICkubGVuZ3RoICkge1xuICAgICAgICAkKCBuZXdzbGV0dGVyU2VjdGlvblNlbGVjdG9yICkuZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmNvbnRleHQtYm94JyApO1xuICAgICAgICAgICAgaWYgKCAkKCB0aGlzICkuaGFzQ2xhc3MoICdjbWIyLW5ld3NsZXR0ZXItc2VjdGlvbi0nICsgdmFsdWUgKSApIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ICk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaG93SGlkZUJvZHlGaWVsZCggdmFsdWUgKSB7XG4gICAgdmFyIGVkaXRvciA9ICcucG9zdGFyZWEnO1xuICAgIGlmICggJ2RjX21lbW8nID09PSB2YWx1ZSB8fCAnZGFpbHlfY29yb25hdmlydXMnID09PSB2YWx1ZSApIHtcbiAgICAgICAgJCggZWRpdG9yICkuc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoIGVkaXRvciApLmhpZGUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNob3dJbnRyb1NlY3Rpb24oIHZhbHVlICkge1xuICAgIHZhciBpbnRyb190ZXh0ID0gJy5jbWIyLWlkLS1tcC1uZXdzbGV0dGVyLW5ld3NsZXR0ZXItdGVhc2VyJztcbiAgICBpZiAoICdhcnRzY2FwZScgPT09IHZhbHVlICkge1xuICAgICAgICAkKCAnI19tcF9uZXdzbGV0dGVyX2ludHJvZHVjdGlvbicgKS5yZW1vdmVDbGFzcyggJ2Nsb3NlZCcgKTtcbiAgICB9XG4gICAgaWYgKCAnZGNfbWVtbycgPT09IHZhbHVlIHx8ICdkYWlseV9jb3JvbmF2aXJ1cycgPT09IHZhbHVlICkge1xuICAgICAgICAkKCBpbnRyb190ZXh0ICkuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoIGludHJvX3RleHQgKS5zaG93KCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXR1cE5ld3NsZXR0ZXJTZWN0aW9ucygpIHtcblx0dmFyIG5ld3NsZXR0ZXJUeXBlU2VsZWN0b3IgPSAnI19tcF9uZXdzbGV0dGVyX3R5cGUnO1xuXHRpZiAoIDAgPCAkKCBuZXdzbGV0dGVyVHlwZVNlbGVjdG9yICkubGVuZ3RoICkge1xuXHRcdHNob3dIaWRlTmV3c2xldHRlclNlY3Rpb24oICQoIG5ld3NsZXR0ZXJUeXBlU2VsZWN0b3IgKS52YWwoKSApO1xuICAgICAgICBzaG93SGlkZUJvZHlGaWVsZCggJCggbmV3c2xldHRlclR5cGVTZWxlY3RvciApLnZhbCgpICk7XG4gICAgICAgIHNob3dJbnRyb1NlY3Rpb24oICQoIG5ld3NsZXR0ZXJUeXBlU2VsZWN0b3IgKS52YWwoKSApO1xuXHRcdCQoIGRvY3VtZW50ICkub24oICdjaGFuZ2UnLCBuZXdzbGV0dGVyVHlwZVNlbGVjdG9yLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRzaG93SGlkZU5ld3NsZXR0ZXJTZWN0aW9uKCAkKCB0aGlzICkudmFsKCkgKTtcbiAgICAgICAgICAgIHNob3dJbnRyb1NlY3Rpb24oICQoIHRoaXMgKS52YWwoKSApO1xuICAgICAgICAgICAgc2hvd0hpZGVCb2R5RmllbGQoICQoIHRoaXMgKS52YWwoKSApO1xuXHRcdH0gKTtcblx0fVxufVxuXG4kKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0c2V0dXBOZXdzbGV0dGVyU2VjdGlvbnMoKTtcbn0gKTtcbiJdfQ==
}(jQuery));
