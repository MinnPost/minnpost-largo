;(function($) {
"use strict";

function showHideConditionalValue(value) {
  var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  if ('gets_emails' === value && '' !== parent) {
    $('.cmb2-message-conditional-value', parent).hide();
    $('.cmb2-message-conditional-emails-value', parent).show();
  } else if ('has_role' === value && '' !== parent) {
    $('.cmb2-message-conditional-value', parent).hide();
    $('.cmb2-message-conditional-roles-value', parent).show();
  }
  if ('gets_emails' !== value && '' !== parent) {
    $('.cmb2-message-conditional-emails-value', parent).hide();
    $('.cmb2-message-conditional-emails-value input:checkbox', parent).prop('checked', false);
  }
  if ('has_role' !== value && '' !== parent) {
    $('.cmb2-message-conditional-roles-value', parent).hide();
    $('.cmb2-message-conditional-roles-value input:checkbox', parent).prop('checked', false);
  }
}
function setupMessageConditional() {
  var conditionalSelector = '.cmb2-message-conditional select';
  if (0 < $(conditionalSelector).length) {
    showHideConditionalValue($(conditionalSelector).val());
    $(document).on('change', conditionalSelector, function (event) {
      showHideConditionalValue($(this).val(), $(event.target).closest('.cmb-field-list'));
    });
  }
}
$(document).ready(function () {
  setupMessageConditional();
});
"use strict";

function showHideCategoryGroupChoices(radioValue, checkboxesSelector) {
  if ('undefined' === typeof radioValue || '' === radioValue) {
    $(checkboxesSelector).show();
  } else {
    $(checkboxesSelector).hide();
  }
}
function setupCategoryGroupChoices() {
  var categoryGroupSelector = '.cmb2-id--mp-category-group input:checked';
  var groupedCategoriesSelector = '.cmb2-id--mp-category-grouped-categories';
  if (0 < $(categoryGroupSelector).length || 0 < $(groupedCategoriesSelector).length) {
    showHideCategoryGroupChoices($(categoryGroupSelector).val(), groupedCategoriesSelector);
    $(document).on('change', categoryGroupSelector, function () {
      showHideCategoryGroupChoices($(this).val(), groupedCategoriesSelector);
    });
  }
}
$(document).ready(function () {
  setupCategoryGroupChoices();
});
"use strict";

function showHideNewsletterSection(value) {
  var newsletterSectionSelector = '.cmb2-newsletter-section';
  if (0 < $(newsletterSectionSelector).length) {
    $(newsletterSectionSelector).each(function (index) {
      var parent = $(this).closest('.context-box');
      if ($(this).hasClass('cmb2-newsletter-section-' + value)) {
        parent.show();
      } else {
        parent.hide();
      }
    });
  }
}
function showHideBodyField(value) {
  var editor = '.postarea';
  if ('dc_memo' === value || 'daily_coronavirus' === value) {
    $(editor).show();
  } else {
    $(editor).hide();
  }
}
function showIntroSection(value) {
  var intro_text = '.cmb2-id--mp-newsletter-newsletter-teaser';
  if ('artscape' === value) {
    $('#_mp_newsletter_introduction').removeClass('closed');
  }
  if ('dc_memo' === value || 'daily_coronavirus' === value) {
    $(intro_text).hide();
  } else {
    $(intro_text).show();
  }
}
function setupNewsletterSections() {
  var newsletterTypeSelector = '#_mp_newsletter_type';
  if (0 < $(newsletterTypeSelector).length) {
    showHideNewsletterSection($(newsletterTypeSelector).val());
    showHideBodyField($(newsletterTypeSelector).val());
    showIntroSection($(newsletterTypeSelector).val());
    $(document).on('change', newsletterTypeSelector, function (event) {
      showHideNewsletterSection($(this).val());
      showIntroSection($(this).val());
      showHideBodyField($(this).val());
    });
  }
}
$(document).ready(function () {
  setupNewsletterSections();
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAxLW1lc3NhZ2VzLmpzIiwiMDItY2F0ZWdvcmllcy5qcyIsIjAzLW5ld3NsZXR0ZXJzLmpzIl0sIm5hbWVzIjpbInNob3dIaWRlQ29uZGl0aW9uYWxWYWx1ZSIsInZhbHVlIiwicGFyZW50IiwiJCIsImhpZGUiLCJzaG93IiwicHJvcCIsInNldHVwTWVzc2FnZUNvbmRpdGlvbmFsIiwiY29uZGl0aW9uYWxTZWxlY3RvciIsImxlbmd0aCIsInZhbCIsImRvY3VtZW50Iiwib24iLCJldmVudCIsInRhcmdldCIsImNsb3Nlc3QiLCJyZWFkeSIsInNob3dIaWRlQ2F0ZWdvcnlHcm91cENob2ljZXMiLCJyYWRpb1ZhbHVlIiwiY2hlY2tib3hlc1NlbGVjdG9yIiwic2V0dXBDYXRlZ29yeUdyb3VwQ2hvaWNlcyIsImNhdGVnb3J5R3JvdXBTZWxlY3RvciIsImdyb3VwZWRDYXRlZ29yaWVzU2VsZWN0b3IiLCJzaG93SGlkZU5ld3NsZXR0ZXJTZWN0aW9uIiwibmV3c2xldHRlclNlY3Rpb25TZWxlY3RvciIsImVhY2giLCJpbmRleCIsImhhc0NsYXNzIiwic2hvd0hpZGVCb2R5RmllbGQiLCJlZGl0b3IiLCJzaG93SW50cm9TZWN0aW9uIiwiaW50cm9fdGV4dCIsInJlbW92ZUNsYXNzIiwic2V0dXBOZXdzbGV0dGVyU2VjdGlvbnMiLCJuZXdzbGV0dGVyVHlwZVNlbGVjdG9yIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLHdCQUF3QixDQUFFQyxLQUFLLEVBQWdCO0VBQUEsSUFBZEMsTUFBTSx1RUFBRyxFQUFFO0VBQ3BELElBQUssYUFBYSxLQUFLRCxLQUFLLElBQUksRUFBRSxLQUFLQyxNQUFNLEVBQUc7SUFDL0NDLENBQUMsQ0FBRSxpQ0FBaUMsRUFBRUQsTUFBTSxDQUFFLENBQUNFLElBQUksRUFBRTtJQUNyREQsQ0FBQyxDQUFFLHdDQUF3QyxFQUFFRCxNQUFNLENBQUUsQ0FBQ0csSUFBSSxFQUFFO0VBQzdELENBQUMsTUFBTSxJQUFLLFVBQVUsS0FBS0osS0FBSyxJQUFJLEVBQUUsS0FBS0MsTUFBTSxFQUFHO0lBQ25EQyxDQUFDLENBQUUsaUNBQWlDLEVBQUVELE1BQU0sQ0FBRSxDQUFDRSxJQUFJLEVBQUU7SUFDckRELENBQUMsQ0FBRSx1Q0FBdUMsRUFBRUQsTUFBTSxDQUFFLENBQUNHLElBQUksRUFBRTtFQUM1RDtFQUNBLElBQUssYUFBYSxLQUFLSixLQUFLLElBQUksRUFBRSxLQUFLQyxNQUFNLEVBQUc7SUFDL0NDLENBQUMsQ0FBRSx3Q0FBd0MsRUFBRUQsTUFBTSxDQUFFLENBQUNFLElBQUksRUFBRTtJQUM1REQsQ0FBQyxDQUFFLHVEQUF1RCxFQUFFRCxNQUFNLENBQUUsQ0FBQ0ksSUFBSSxDQUFFLFNBQVMsRUFBRSxLQUFLLENBQUU7RUFDOUY7RUFDQSxJQUFLLFVBQVUsS0FBS0wsS0FBSyxJQUFJLEVBQUUsS0FBS0MsTUFBTSxFQUFHO0lBQzVDQyxDQUFDLENBQUUsdUNBQXVDLEVBQUVELE1BQU0sQ0FBRSxDQUFDRSxJQUFJLEVBQUU7SUFDM0RELENBQUMsQ0FBRSxzREFBc0QsRUFBRUQsTUFBTSxDQUFFLENBQUNJLElBQUksQ0FBRSxTQUFTLEVBQUUsS0FBSyxDQUFFO0VBQzdGO0FBQ0Q7QUFFQSxTQUFTQyx1QkFBdUIsR0FBRztFQUNsQyxJQUFJQyxtQkFBbUIsR0FBRyxrQ0FBa0M7RUFDNUQsSUFBSyxDQUFDLEdBQUdMLENBQUMsQ0FBRUssbUJBQW1CLENBQUUsQ0FBQ0MsTUFBTSxFQUFHO0lBQzFDVCx3QkFBd0IsQ0FBRUcsQ0FBQyxDQUFFSyxtQkFBbUIsQ0FBRSxDQUFDRSxHQUFHLEVBQUUsQ0FBRTtJQUMxRFAsQ0FBQyxDQUFFUSxRQUFRLENBQUUsQ0FBQ0MsRUFBRSxDQUFFLFFBQVEsRUFBRUosbUJBQW1CLEVBQUUsVUFBVUssS0FBSyxFQUFHO01BQ2xFYix3QkFBd0IsQ0FBRUcsQ0FBQyxDQUFFLElBQUksQ0FBRSxDQUFDTyxHQUFHLEVBQUUsRUFBRVAsQ0FBQyxDQUFFVSxLQUFLLENBQUNDLE1BQU0sQ0FBRSxDQUFDQyxPQUFPLENBQUUsaUJBQWlCLENBQUUsQ0FBRTtJQUM1RixDQUFDLENBQUU7RUFDSjtBQUNEO0FBRUFaLENBQUMsQ0FBRVEsUUFBUSxDQUFFLENBQUNLLEtBQUssQ0FBRSxZQUFXO0VBQy9CVCx1QkFBdUIsRUFBRTtBQUMxQixDQUFDLENBQUU7OztBQzlCSCxTQUFTVSw0QkFBNEIsQ0FBRUMsVUFBVSxFQUFFQyxrQkFBa0IsRUFBRztFQUN2RSxJQUFLLFdBQVcsS0FBSyxPQUFPRCxVQUFVLElBQUksRUFBRSxLQUFLQSxVQUFVLEVBQUc7SUFDN0RmLENBQUMsQ0FBRWdCLGtCQUFrQixDQUFFLENBQUNkLElBQUksRUFBRTtFQUMvQixDQUFDLE1BQU07SUFDTkYsQ0FBQyxDQUFFZ0Isa0JBQWtCLENBQUUsQ0FBQ2YsSUFBSSxFQUFFO0VBQy9CO0FBQ0Q7QUFFQSxTQUFTZ0IseUJBQXlCLEdBQUc7RUFDcEMsSUFBSUMscUJBQXFCLEdBQU8sMkNBQTJDO0VBQzNFLElBQUlDLHlCQUF5QixHQUFHLDBDQUEwQztFQUMxRSxJQUFLLENBQUMsR0FBR25CLENBQUMsQ0FBRWtCLHFCQUFxQixDQUFFLENBQUNaLE1BQU0sSUFBSSxDQUFDLEdBQUdOLENBQUMsQ0FBRW1CLHlCQUF5QixDQUFFLENBQUNiLE1BQU0sRUFBRztJQUN6RlEsNEJBQTRCLENBQUVkLENBQUMsQ0FBRWtCLHFCQUFxQixDQUFFLENBQUNYLEdBQUcsRUFBRSxFQUFFWSx5QkFBeUIsQ0FBRTtJQUMzRm5CLENBQUMsQ0FBRVEsUUFBUSxDQUFFLENBQUNDLEVBQUUsQ0FBRSxRQUFRLEVBQUVTLHFCQUFxQixFQUFFLFlBQVc7TUFDN0RKLDRCQUE0QixDQUFFZCxDQUFDLENBQUUsSUFBSSxDQUFFLENBQUNPLEdBQUcsRUFBRSxFQUFFWSx5QkFBeUIsQ0FBRTtJQUMzRSxDQUFDLENBQUU7RUFDSjtBQUNEO0FBRUFuQixDQUFDLENBQUVRLFFBQVEsQ0FBRSxDQUFDSyxLQUFLLENBQUUsWUFBVztFQUMvQkkseUJBQXlCLEVBQUU7QUFDNUIsQ0FBQyxDQUFFOzs7QUNyQkgsU0FBU0cseUJBQXlCLENBQUV0QixLQUFLLEVBQUc7RUFDeEMsSUFBSXVCLHlCQUF5QixHQUFHLDBCQUEwQjtFQUMxRCxJQUFLLENBQUMsR0FBR3JCLENBQUMsQ0FBRXFCLHlCQUF5QixDQUFFLENBQUNmLE1BQU0sRUFBRztJQUM3Q04sQ0FBQyxDQUFFcUIseUJBQXlCLENBQUUsQ0FBQ0MsSUFBSSxDQUFFLFVBQVVDLEtBQUssRUFBRztNQUNuRCxJQUFJeEIsTUFBTSxHQUFHQyxDQUFDLENBQUUsSUFBSSxDQUFFLENBQUNZLE9BQU8sQ0FBRSxjQUFjLENBQUU7TUFDaEQsSUFBS1osQ0FBQyxDQUFFLElBQUksQ0FBRSxDQUFDd0IsUUFBUSxDQUFFLDBCQUEwQixHQUFHMUIsS0FBSyxDQUFFLEVBQUc7UUFDNURDLE1BQU0sQ0FBQ0csSUFBSSxFQUFFO01BQ2pCLENBQUMsTUFBTTtRQUNISCxNQUFNLENBQUNFLElBQUksRUFBRTtNQUNqQjtJQUNKLENBQUMsQ0FBRTtFQUNQO0FBQ0o7QUFFQSxTQUFTd0IsaUJBQWlCLENBQUUzQixLQUFLLEVBQUc7RUFDaEMsSUFBSTRCLE1BQU0sR0FBRyxXQUFXO0VBQ3hCLElBQUssU0FBUyxLQUFLNUIsS0FBSyxJQUFJLG1CQUFtQixLQUFLQSxLQUFLLEVBQUc7SUFDeERFLENBQUMsQ0FBRTBCLE1BQU0sQ0FBRSxDQUFDeEIsSUFBSSxFQUFFO0VBQ3RCLENBQUMsTUFBTTtJQUNIRixDQUFDLENBQUUwQixNQUFNLENBQUUsQ0FBQ3pCLElBQUksRUFBRTtFQUN0QjtBQUNKO0FBRUEsU0FBUzBCLGdCQUFnQixDQUFFN0IsS0FBSyxFQUFHO0VBQy9CLElBQUk4QixVQUFVLEdBQUcsMkNBQTJDO0VBQzVELElBQUssVUFBVSxLQUFLOUIsS0FBSyxFQUFHO0lBQ3hCRSxDQUFDLENBQUUsOEJBQThCLENBQUUsQ0FBQzZCLFdBQVcsQ0FBRSxRQUFRLENBQUU7RUFDL0Q7RUFDQSxJQUFLLFNBQVMsS0FBSy9CLEtBQUssSUFBSSxtQkFBbUIsS0FBS0EsS0FBSyxFQUFHO0lBQ3hERSxDQUFDLENBQUU0QixVQUFVLENBQUUsQ0FBQzNCLElBQUksRUFBRTtFQUMxQixDQUFDLE1BQU07SUFDSEQsQ0FBQyxDQUFFNEIsVUFBVSxDQUFFLENBQUMxQixJQUFJLEVBQUU7RUFDMUI7QUFDSjtBQUVBLFNBQVM0Qix1QkFBdUIsR0FBRztFQUNsQyxJQUFJQyxzQkFBc0IsR0FBRyxzQkFBc0I7RUFDbkQsSUFBSyxDQUFDLEdBQUcvQixDQUFDLENBQUUrQixzQkFBc0IsQ0FBRSxDQUFDekIsTUFBTSxFQUFHO0lBQzdDYyx5QkFBeUIsQ0FBRXBCLENBQUMsQ0FBRStCLHNCQUFzQixDQUFFLENBQUN4QixHQUFHLEVBQUUsQ0FBRTtJQUN4RGtCLGlCQUFpQixDQUFFekIsQ0FBQyxDQUFFK0Isc0JBQXNCLENBQUUsQ0FBQ3hCLEdBQUcsRUFBRSxDQUFFO0lBQ3REb0IsZ0JBQWdCLENBQUUzQixDQUFDLENBQUUrQixzQkFBc0IsQ0FBRSxDQUFDeEIsR0FBRyxFQUFFLENBQUU7SUFDM0RQLENBQUMsQ0FBRVEsUUFBUSxDQUFFLENBQUNDLEVBQUUsQ0FBRSxRQUFRLEVBQUVzQixzQkFBc0IsRUFBRSxVQUFVckIsS0FBSyxFQUFHO01BQ3JFVSx5QkFBeUIsQ0FBRXBCLENBQUMsQ0FBRSxJQUFJLENBQUUsQ0FBQ08sR0FBRyxFQUFFLENBQUU7TUFDbkNvQixnQkFBZ0IsQ0FBRTNCLENBQUMsQ0FBRSxJQUFJLENBQUUsQ0FBQ08sR0FBRyxFQUFFLENBQUU7TUFDbkNrQixpQkFBaUIsQ0FBRXpCLENBQUMsQ0FBRSxJQUFJLENBQUUsQ0FBQ08sR0FBRyxFQUFFLENBQUU7SUFDOUMsQ0FBQyxDQUFFO0VBQ0o7QUFDRDtBQUVBUCxDQUFDLENBQUVRLFFBQVEsQ0FBRSxDQUFDSyxLQUFLLENBQUUsWUFBVztFQUMvQmlCLHVCQUF1QixFQUFFO0FBQzFCLENBQUMsQ0FBRSIsImZpbGUiOiJtaW5ucG9zdC1sYXJnby1hZG1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHNob3dIaWRlQ29uZGl0aW9uYWxWYWx1ZSggdmFsdWUsIHBhcmVudCA9ICcnICkge1xuXHRpZiAoICdnZXRzX2VtYWlscycgPT09IHZhbHVlICYmICcnICE9PSBwYXJlbnQgKSB7XG5cdFx0JCggJy5jbWIyLW1lc3NhZ2UtY29uZGl0aW9uYWwtdmFsdWUnLCBwYXJlbnQgKS5oaWRlKCk7XG5cdFx0JCggJy5jbWIyLW1lc3NhZ2UtY29uZGl0aW9uYWwtZW1haWxzLXZhbHVlJywgcGFyZW50ICkuc2hvdygpO1xuXHR9IGVsc2UgaWYgKCAnaGFzX3JvbGUnID09PSB2YWx1ZSAmJiAnJyAhPT0gcGFyZW50ICkge1xuXHRcdCQoICcuY21iMi1tZXNzYWdlLWNvbmRpdGlvbmFsLXZhbHVlJywgcGFyZW50ICkuaGlkZSgpO1xuXHRcdCQoICcuY21iMi1tZXNzYWdlLWNvbmRpdGlvbmFsLXJvbGVzLXZhbHVlJywgcGFyZW50ICkuc2hvdygpO1xuXHR9XG5cdGlmICggJ2dldHNfZW1haWxzJyAhPT0gdmFsdWUgJiYgJycgIT09IHBhcmVudCApIHtcblx0XHQkKCAnLmNtYjItbWVzc2FnZS1jb25kaXRpb25hbC1lbWFpbHMtdmFsdWUnLCBwYXJlbnQgKS5oaWRlKCk7XG5cdFx0JCggJy5jbWIyLW1lc3NhZ2UtY29uZGl0aW9uYWwtZW1haWxzLXZhbHVlIGlucHV0OmNoZWNrYm94JywgcGFyZW50ICkucHJvcCggJ2NoZWNrZWQnLCBmYWxzZSApO1xuXHR9XG5cdGlmICggJ2hhc19yb2xlJyAhPT0gdmFsdWUgJiYgJycgIT09IHBhcmVudCApIHtcblx0XHQkKCAnLmNtYjItbWVzc2FnZS1jb25kaXRpb25hbC1yb2xlcy12YWx1ZScsIHBhcmVudCApLmhpZGUoKTtcblx0XHQkKCAnLmNtYjItbWVzc2FnZS1jb25kaXRpb25hbC1yb2xlcy12YWx1ZSBpbnB1dDpjaGVja2JveCcsIHBhcmVudCApLnByb3AoICdjaGVja2VkJywgZmFsc2UgKTtcblx0fVxufVxuXG5mdW5jdGlvbiBzZXR1cE1lc3NhZ2VDb25kaXRpb25hbCgpIHtcblx0dmFyIGNvbmRpdGlvbmFsU2VsZWN0b3IgPSAnLmNtYjItbWVzc2FnZS1jb25kaXRpb25hbCBzZWxlY3QnO1xuXHRpZiAoIDAgPCAkKCBjb25kaXRpb25hbFNlbGVjdG9yICkubGVuZ3RoICkge1xuXHRcdHNob3dIaWRlQ29uZGl0aW9uYWxWYWx1ZSggJCggY29uZGl0aW9uYWxTZWxlY3RvciApLnZhbCgpICk7XG5cdFx0JCggZG9jdW1lbnQgKS5vbiggJ2NoYW5nZScsIGNvbmRpdGlvbmFsU2VsZWN0b3IsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHNob3dIaWRlQ29uZGl0aW9uYWxWYWx1ZSggJCggdGhpcyApLnZhbCgpLCAkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCAnLmNtYi1maWVsZC1saXN0JyApICk7XG5cdFx0fSApO1xuXHR9XG59XG5cbiQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRzZXR1cE1lc3NhZ2VDb25kaXRpb25hbCgpO1xufSApO1xuIiwiZnVuY3Rpb24gc2hvd0hpZGVDYXRlZ29yeUdyb3VwQ2hvaWNlcyggcmFkaW9WYWx1ZSwgY2hlY2tib3hlc1NlbGVjdG9yICkge1xuXHRpZiAoICd1bmRlZmluZWQnID09PSB0eXBlb2YgcmFkaW9WYWx1ZSB8fCAnJyA9PT0gcmFkaW9WYWx1ZSApIHtcblx0XHQkKCBjaGVja2JveGVzU2VsZWN0b3IgKS5zaG93KCk7XG5cdH0gZWxzZSB7XG5cdFx0JCggY2hlY2tib3hlc1NlbGVjdG9yICkuaGlkZSgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHNldHVwQ2F0ZWdvcnlHcm91cENob2ljZXMoKSB7XG5cdHZhciBjYXRlZ29yeUdyb3VwU2VsZWN0b3IgICAgID0gJy5jbWIyLWlkLS1tcC1jYXRlZ29yeS1ncm91cCBpbnB1dDpjaGVja2VkJztcblx0dmFyIGdyb3VwZWRDYXRlZ29yaWVzU2VsZWN0b3IgPSAnLmNtYjItaWQtLW1wLWNhdGVnb3J5LWdyb3VwZWQtY2F0ZWdvcmllcyc7XG5cdGlmICggMCA8ICQoIGNhdGVnb3J5R3JvdXBTZWxlY3RvciApLmxlbmd0aCB8fCAwIDwgJCggZ3JvdXBlZENhdGVnb3JpZXNTZWxlY3RvciApLmxlbmd0aCApIHtcblx0XHRzaG93SGlkZUNhdGVnb3J5R3JvdXBDaG9pY2VzKCAkKCBjYXRlZ29yeUdyb3VwU2VsZWN0b3IgKS52YWwoKSwgZ3JvdXBlZENhdGVnb3JpZXNTZWxlY3RvciApO1xuXHRcdCQoIGRvY3VtZW50ICkub24oICdjaGFuZ2UnLCBjYXRlZ29yeUdyb3VwU2VsZWN0b3IsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2hvd0hpZGVDYXRlZ29yeUdyb3VwQ2hvaWNlcyggJCggdGhpcyApLnZhbCgpLCBncm91cGVkQ2F0ZWdvcmllc1NlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59XG5cbiQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRzZXR1cENhdGVnb3J5R3JvdXBDaG9pY2VzKCk7XG59ICk7XG4iLCJmdW5jdGlvbiBzaG93SGlkZU5ld3NsZXR0ZXJTZWN0aW9uKCB2YWx1ZSApIHtcbiAgICB2YXIgbmV3c2xldHRlclNlY3Rpb25TZWxlY3RvciA9ICcuY21iMi1uZXdzbGV0dGVyLXNlY3Rpb24nO1xuICAgIGlmICggMCA8ICQoIG5ld3NsZXR0ZXJTZWN0aW9uU2VsZWN0b3IgKS5sZW5ndGggKSB7XG4gICAgICAgICQoIG5ld3NsZXR0ZXJTZWN0aW9uU2VsZWN0b3IgKS5lYWNoKCBmdW5jdGlvbiggaW5kZXggKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gJCggdGhpcyApLmNsb3Nlc3QoICcuY29udGV4dC1ib3gnICk7XG4gICAgICAgICAgICBpZiAoICQoIHRoaXMgKS5oYXNDbGFzcyggJ2NtYjItbmV3c2xldHRlci1zZWN0aW9uLScgKyB2YWx1ZSApICkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNob3dIaWRlQm9keUZpZWxkKCB2YWx1ZSApIHtcbiAgICB2YXIgZWRpdG9yID0gJy5wb3N0YXJlYSc7XG4gICAgaWYgKCAnZGNfbWVtbycgPT09IHZhbHVlIHx8ICdkYWlseV9jb3JvbmF2aXJ1cycgPT09IHZhbHVlICkge1xuICAgICAgICAkKCBlZGl0b3IgKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJCggZWRpdG9yICkuaGlkZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hvd0ludHJvU2VjdGlvbiggdmFsdWUgKSB7XG4gICAgdmFyIGludHJvX3RleHQgPSAnLmNtYjItaWQtLW1wLW5ld3NsZXR0ZXItbmV3c2xldHRlci10ZWFzZXInO1xuICAgIGlmICggJ2FydHNjYXBlJyA9PT0gdmFsdWUgKSB7XG4gICAgICAgICQoICcjX21wX25ld3NsZXR0ZXJfaW50cm9kdWN0aW9uJyApLnJlbW92ZUNsYXNzKCAnY2xvc2VkJyApO1xuICAgIH1cbiAgICBpZiAoICdkY19tZW1vJyA9PT0gdmFsdWUgfHwgJ2RhaWx5X2Nvcm9uYXZpcnVzJyA9PT0gdmFsdWUgKSB7XG4gICAgICAgICQoIGludHJvX3RleHQgKS5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJCggaW50cm9fdGV4dCApLnNob3coKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldHVwTmV3c2xldHRlclNlY3Rpb25zKCkge1xuXHR2YXIgbmV3c2xldHRlclR5cGVTZWxlY3RvciA9ICcjX21wX25ld3NsZXR0ZXJfdHlwZSc7XG5cdGlmICggMCA8ICQoIG5ld3NsZXR0ZXJUeXBlU2VsZWN0b3IgKS5sZW5ndGggKSB7XG5cdFx0c2hvd0hpZGVOZXdzbGV0dGVyU2VjdGlvbiggJCggbmV3c2xldHRlclR5cGVTZWxlY3RvciApLnZhbCgpICk7XG4gICAgICAgIHNob3dIaWRlQm9keUZpZWxkKCAkKCBuZXdzbGV0dGVyVHlwZVNlbGVjdG9yICkudmFsKCkgKTtcbiAgICAgICAgc2hvd0ludHJvU2VjdGlvbiggJCggbmV3c2xldHRlclR5cGVTZWxlY3RvciApLnZhbCgpICk7XG5cdFx0JCggZG9jdW1lbnQgKS5vbiggJ2NoYW5nZScsIG5ld3NsZXR0ZXJUeXBlU2VsZWN0b3IsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHNob3dIaWRlTmV3c2xldHRlclNlY3Rpb24oICQoIHRoaXMgKS52YWwoKSApO1xuICAgICAgICAgICAgc2hvd0ludHJvU2VjdGlvbiggJCggdGhpcyApLnZhbCgpICk7XG4gICAgICAgICAgICBzaG93SGlkZUJvZHlGaWVsZCggJCggdGhpcyApLnZhbCgpICk7XG5cdFx0fSApO1xuXHR9XG59XG5cbiQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRzZXR1cE5ld3NsZXR0ZXJTZWN0aW9ucygpO1xufSApO1xuIl19
}(jQuery));
